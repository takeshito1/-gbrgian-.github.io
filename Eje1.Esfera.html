<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Estimaci√≥n de œÄ - M√©todo de Montecarlo</title>
    <style>
        body {
            background: #ffffff;
            color: black;
            text-align: center;
            font-family: Arial, sans-serif;
            margin: 20px auto;
            max-width: 900px;
        }

        h1 {
            margin-bottom: 10px;
        }

        #teoria {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 10px;
            margin: 20px auto;
            width: 90%;
            text-align: justify;
            font-size: 16px;
        }

        canvas {
            border: 2px solid black;
            margin: 20px auto;
        }

        #info {
            margin-top: 15px;
            font-size: 18px;
        }

        button, input {
            padding: 10px 20px;
            font-size: 16px;
            margin: 10px;
            border-radius: 8px;
            border: none;
        }

        button {
            background-color: green;
            color: white;
            cursor: pointer;
        }

        #btnVaciar {
            background-color: red;
        }
    </style>
</head>
<body>

<h1>üé≤ Estimaci√≥n de œÄ con el M√©todo de Montecarlo</h1>

<div id="teoria">

    <h2 style="text-align:center;">üéØ ¬øPor qu√© podemos estimar œÄ con puntos aleatorios?</h2>

    Este experimento utiliza el <b>m√©todo de Montecarlo</b> para aproximar el valor de œÄ de manera gr√°fica y aleatoria.<br><br>

    Imagina un cuadrado que contiene un c√≠rculo inscrito. Generamos puntos aleatorios dentro del cuadrado y observamos cu√°ntos caen dentro del c√≠rculo. La proporci√≥n de puntos dentro del c√≠rculo se relaciona directamente con el valor de œÄ.<br><br>

    <b>Proporci√≥n experimental (frecuencia relativa):</b><br>
    Cada vez que generas puntos aleatorios, puedes calcular:<br><br>

    <div style="text-align:center; font-size:18px;">
        <div style="border-bottom:1px solid black; display:inline-block; padding: 2px 10px;">
            Puntos dentro del c√≠rculo
        </div><br>
        <div style="display:inline-block; padding: 2px 10px;">
            Total de puntos generados
        </div>
    </div><br>

    <b>Probabilidad te√≥rica:</b><br>
    Matem√°ticamente, la probabilidad de que un punto aleatorio caiga dentro del c√≠rculo es:<br><br>

    <center style="font-size:18px; margin:10px 0;">
        <b>P(caer dentro)</b> = √Årea del c√≠rculo √∑ √Årea del cuadrado = œÄ ¬∑ r¬≤ √∑ (2r)¬≤ = œÄ √∑ 4 ‚âà 0.7854
    </center><br>

    Al comparar la proporci√≥n experimental con esta probabilidad te√≥rica, podemos estimar el valor de œÄ.<br><br>

    <b>Interpretaci√≥n:</b><br>
    La proporci√≥n experimental se interpreta como una <b>estimaci√≥n emp√≠rica</b> de la probabilidad te√≥rica. A medida que generas m√°s puntos, esta proporci√≥n tiende a acercarse al valor esperado gracias a la <b>Ley de los Grandes N√∫meros</b>.<br><br>

    <b>Importante:</b>
    <ul>
        <li>A mayor cantidad de puntos, mayor precisi√≥n en la estimaci√≥n de œÄ.</li>
        <li>Este fen√≥meno se basa en la <b>Ley de los Grandes N√∫meros</b>, que afirma que, al repetir muchas veces un experimento aleatorio, la frecuencia relativa converge hacia la probabilidad te√≥rica.</li>
    </ul>

    <h3>üìè Ley de los Grandes N√∫meros (LGN)</h3>
    Al inicio, es normal que la estimaci√≥n de œÄ fluct√∫e debido al azar. Sin embargo, al generar una gran cantidad de puntos, la <b>proporci√≥n de puntos dentro del c√≠rculo</b> tender√° a estabilizarse cerca del valor esperado, mostrando un claro ejemplo pr√°ctico y visual de la Ley de los Grandes N√∫meros.
</div>

<input type="number" id="cantidadPersonalizada" placeholder="Cantidad de puntos" min="1">
<button onclick="generarCantidadPersonalizada()">Generar puntos</button>
<button id="btnVaciar">Vaciar</button>

<div id="info"></div>

<canvas id="canvas" width="400" height="400"></canvas>

<script>
const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');

const radio = 200;
const centro = { x: 200, y: 200 };

let totalPuntos = 0;
let puntosDentro = 0;

function dibujarBase() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    ctx.beginPath();
    ctx.arc(centro.x, centro.y, radio, 0, Math.PI * 2);
    ctx.stroke();
}

function generarPuntos(n) {
    for (let i = 0; i < n; i++) {
        const x = Math.random() * 2 - 1;
        const y = Math.random() * 2 - 1;

        const distancia = Math.sqrt(x * x + y * y);

        const px = centro.x + x * radio;
        const py = centro.y + y * radio;

        ctx.fillStyle = distancia <= 1 ? 'green' : 'red';
        if (distancia <= 1) puntosDentro++;
        ctx.fillRect(px, py, 2, 2);

        totalPuntos++;
    }

    actualizarInfo();
}

function actualizarInfo() {
    const estimacionPi = totalPuntos > 0 ? (4 * puntosDentro / totalPuntos).toFixed(5) : 0;
    document.getElementById('info').innerHTML =
        `<b>Total de puntos:</b> ${totalPuntos} | 
         <b>Dentro del c√≠rculo:</b> ${puntosDentro} | 
         <b>Estimaci√≥n de œÄ:</b> ${estimacionPi}`;
}

function vaciarPuntos() {
    totalPuntos = 0;
    puntosDentro = 0;
    dibujarBase();
    actualizarInfo();
}

function generarCantidadPersonalizada() {
    const cantidad = parseInt(document.getElementById('cantidadPersonalizada').value);
    if (!isNaN(cantidad) && cantidad > 0) {
        generarPuntos(cantidad);
    } else {
        alert("Por favor ingresa un n√∫mero v√°lido mayor que 0.");
    }
}

document.getElementById("btnVaciar").addEventListener("click", vaciarPuntos);

dibujarBase();
</script>

</body>
</html>
